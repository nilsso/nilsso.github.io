{% import "macros/page.html" as page_macros %}

<!doctype html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" type="image/jpg" href="https://avatars1.githubusercontent.com/u/567181?s=60&v=4">
    {% set data = load_data(path="public/style.css", format="plain") -%}
    <style>{{ data | safe }}</style>
    {% block custom_styles %}
    {% endblock custom_styles %}
    {% if page.extra.math or section.extra.math %}
    <link rel="stylesheet" href="{{ get_url(path="css/katex.min.css") }}">
    <script defer src="{{ get_url(path="js/katex.min.js") }}"></script>
    <script defer src="{{ get_url(path="js/mathtex-script-type.min.js") }}"></script>
    <script type="module">
        import renderMathInElement from
        "https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.mjs";
        renderMathInElement(document.body, {
            delimiters: [
                { right: "$$", left: "$$",  display: true  },
                { right: "$",  left: "$",   display: false }
            ]
        });
    </script>
    {% endif %}
</head>
<body>
    <main>
        {% block nav %}
        {{ page_macros::nav() }}
        {% endblock nav %}
        <hr>
        <content>
        {% block content %}
        {{ page.content | safe }}
        {% endblock content %}
        </content>
    </main>
</body>
</html>
